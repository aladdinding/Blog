<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="文章涉及到「变量自动取地址」和「指针自动解引用」遇到 Interfaces 会出现的状况"><title>GO中的Interfaces类型与值、指针接收者</title><link rel=canonical href=https://aladdinding.cn/post/go%E4%B8%AD%E7%9A%84interfaces%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%80%BC%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E8%80%85/><link rel=stylesheet href=/scss/style.min.450926226e724574a6b936335ea06111f8aeb253d932c86cb2cc807341cd2889.css><meta property="og:title" content="GO中的Interfaces类型与值、指针接收者"><meta property="og:description" content="文章涉及到「变量自动取地址」和「指针自动解引用」遇到 Interfaces 会出现的状况"><meta property="og:url" content="https://aladdinding.cn/post/go%E4%B8%AD%E7%9A%84interfaces%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%80%BC%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E8%80%85/"><meta property="og:site_name" content="大猫的博客"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:tag" content="go"><meta property="article:tag" content><meta property="article:published_time" content="2022-07-25T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-25T00:00:00+00:00"><meta name=twitter:title content="GO中的Interfaces类型与值、指针接收者"><meta name=twitter:description content="文章涉及到「变量自动取地址」和「指针自动解引用」遇到 Interfaces 会出现的状况"><link rel="shortcut icon" href=https://img.aladdinding.cn/lion.png></head><body class=article-page><script>(function(){const a='StackColorScheme';localStorage.getItem(a)||localStorage.setItem(a,"auto")})()</script><script>(function(){const b='StackColorScheme',a=localStorage.getItem(b),c=window.matchMedia('(prefers-color-scheme: dark)').matches===!0;a=='dark'||a==='auto'&&c?document.documentElement.dataset.scheme='dark':document.documentElement.dataset.scheme='light'})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu86d3dbbac91a1a793adc237918d8b49d_16968_300x0_resize_box_2.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>大猫的博客</a></h1><h2 class=site-description>博观而约取，厚积而薄发。</h2></div></header><ol class=social-menu><li><a href=https://github.com/aladdinding target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/arcustin target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li><li><a href=mailto:aladdinding@qq.com target=_blank title=Mail><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg></a></li><li><a href=/index.xml target=_blank title=RSS><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>主页</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>时间轴</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>搜索</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/post/go%E4%B8%AD%E7%9A%84interfaces%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%80%BC%E6%8C%87%E9%92%88%E6%8E%A5%E6%94%B6%E8%80%85/>GO中的Interfaces类型与值、指针接收者</a></h2><h3 class=article-subtitle>文章涉及到「变量自动取地址」和「指针自动解引用」遇到 Interfaces 会出现的状况</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jul 25, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 3 分钟</time></div></footer></div></header><section class=article-content><p>以下代码有几点说明：</p><ul><li>Cat 和 Dog 都实现了 Animal 接口的 <code>SetName</code> 方法</li><li>Cat 实现的接口为值接收者（value receiver）</li><li>Dog 实现的接口为指针接收者（pointer receiver）</li></ul><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=ln> 1</span><span class=kn>package</span> <span class=nx>main</span>
<span class=ln> 2</span>
<span class=ln> 3</span><span class=kn>import</span> <span class=p>(</span>
<span class=ln> 4</span>	<span class=s>&#34;fmt&#34;</span>
<span class=ln> 5</span><span class=p>)</span>
<span class=ln> 6</span>
<span class=ln> 7</span><span class=kd>type</span> <span class=nx>Animal</span> <span class=kd>interface</span> <span class=p>{</span>
<span class=ln> 8</span>	<span class=nf>SetName</span><span class=p>()</span>
<span class=ln> 9</span><span class=p>}</span>
<span class=ln>10</span><span class=kd>type</span> <span class=nx>Cat</span> <span class=kd>struct</span> <span class=p>{</span>
<span class=ln>11</span>	<span class=nx>Name</span> <span class=kt>string</span>
<span class=ln>12</span><span class=p>}</span>
<span class=ln>13</span>
<span class=ln>14</span><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Cat</span><span class=p>)</span> <span class=nf>SetName</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>15</span>	<span class=nx>c</span><span class=p>.</span><span class=nx>Name</span> <span class=p>=</span> <span class=s>&#34;喵星人&#34;</span>
<span class=ln>16</span><span class=p>}</span>
<span class=ln>17</span>
<span class=ln>18</span><span class=kd>type</span> <span class=nx>Dog</span> <span class=kd>struct</span> <span class=p>{</span>
<span class=ln>19</span>	<span class=nx>Name</span> <span class=kt>string</span>
<span class=ln>20</span><span class=p>}</span>
<span class=ln>21</span>
<span class=ln>22</span><span class=kd>func</span> <span class=p>(</span><span class=nx>d</span> <span class=o>*</span><span class=nx>Dog</span><span class=p>)</span> <span class=nf>SetName</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>23</span>	<span class=nx>d</span><span class=p>.</span><span class=nx>Name</span> <span class=p>=</span> <span class=s>&#34;汪星人&#34;</span>
<span class=ln>24</span><span class=p>}</span>
<span class=ln>25</span>
<span class=ln>26</span><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>27</span>
<span class=ln>28</span>	<span class=kd>var</span> <span class=nx>a1</span> <span class=nx>Animal</span> <span class=p>=</span> <span class=nx>Cat</span><span class=p>{}</span>
<span class=ln>29</span>	<span class=nx>a1</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>30</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;cat name:&#34;</span><span class=p>,</span> <span class=nx>a1</span><span class=p>.(</span><span class=nx>Cat</span><span class=p>).</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>31</span>
<span class=ln>32</span>	<span class=kd>var</span> <span class=nx>a2</span> <span class=nx>Animal</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Cat</span><span class=p>{}</span>
<span class=ln>33</span>	<span class=nx>a2</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>34</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;cat name:&#34;</span><span class=p>,</span> <span class=nx>a2</span><span class=p>.(</span><span class=nx>Cat</span><span class=p>).</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>35</span>
<span class=ln>36</span>	<span class=kd>var</span> <span class=nx>a3</span> <span class=nx>Animal</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Dog</span><span class=p>{}</span>
<span class=ln>37</span>	<span class=nx>a1</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>38</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;dog name:&#34;</span><span class=p>,</span> <span class=nx>a3</span><span class=p>.(</span><span class=o>*</span><span class=nx>Dog</span><span class=p>).</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>39</span>
<span class=ln>40</span>	<span class=c1>// cannot use Dog{} (value of type Dog) as type Animal in variable declaration:
</span><span class=ln>41</span><span class=c1></span>	<span class=c1>// Dog does not implement Animal (SetName method has pointer receiver)
</span><span class=ln>42</span><span class=c1></span>	<span class=kd>var</span> <span class=nx>a4</span> <span class=nx>Animal</span> <span class=p>=</span> <span class=nx>Dog</span><span class=p>{}</span>
<span class=ln>43</span>	<span class=nx>a1</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>44</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;dog name:&#34;</span><span class=p>,</span> <span class=nx>a4</span><span class=p>.(</span><span class=o>*</span><span class=nx>Dog</span><span class=p>).</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>45</span>
<span class=ln>46</span>	<span class=kd>var</span> <span class=nx>a5</span> <span class=nx>Dog</span> <span class=p>=</span> <span class=nx>Dog</span><span class=p>{}</span>
<span class=ln>47</span>	<span class=nx>a5</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>48</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;dog name:&#34;</span><span class=p>,</span> <span class=nx>a5</span><span class=p>.</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>49</span>
<span class=ln>50</span>	<span class=kd>var</span> <span class=nx>a6</span> <span class=o>*</span><span class=nx>Dog</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>Dog</span><span class=p>{}</span>
<span class=ln>51</span>	<span class=nx>a6</span><span class=p>.</span><span class=nf>SetName</span><span class=p>()</span>
<span class=ln>52</span>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;dog name:&#34;</span><span class=p>,</span> <span class=nx>a6</span><span class=p>.</span><span class=nx>Name</span><span class=p>)</span>
<span class=ln>53</span><span class=p>}</span>
</code></pre></div><p>运行这段代码可以发现两点问题：</p><ol><li>a5、a6 赋值 Dog 结构体的值和指针都可以顺利运行</li><li>a1、a2、a3、a4 都是 Animal 接口类型，为什么 a4 为 Dog 结构体值的时候编译报错，a1 为 Cat 结构体值却不会</li></ol><p>首先，在 golang 中，所有的参数传递都是值传递，并且有等价写法如下：</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=ln>1</span><span class=kd>func</span> <span class=p>(</span><span class=nx>c</span> <span class=nx>Cat</span><span class=p>)</span> <span class=nf>SetName</span><span class=p>()</span> <span class=p>{</span>
<span class=ln>2</span>	<span class=nx>c</span><span class=p>.</span><span class=nx>Name</span> <span class=p>=</span> <span class=s>&#34;喵星人&#34;</span>
<span class=ln>3</span><span class=p>}</span>
</code></pre></div><p>等价于</p><div class=highlight><pre class=chroma><code class=language-go data-lang=go><span class=ln>1</span><span class=kd>func</span> <span class=nf>SetName</span><span class=p>(</span><span class=nx>c</span> <span class=nx>Cat</span><span class=p>)</span> <span class=p>{</span>
<span class=ln>2</span>	<span class=nx>c</span><span class=p>.</span><span class=nx>Name</span> <span class=p>=</span> <span class=s>&#34;喵星人&#34;</span>
<span class=ln>3</span><span class=p>}</span>
</code></pre></div><p>故 value receiver 和 pointer receiver 区别为：</p><ul><li>value receiver：方法拿到的是结构体的拷贝</li><li>pointer receiver：方法拿到的是结构体指针的拷贝，和原结构体指针指向的是同一个结构体（这也是为什么在方法内访问或者修改结构体需要定义为 pointer receiver）</li></ul><p>在 <a class=link href=https://go.dev/doc/effective_go#pointers_vs_values target=_blank rel=noopener>go 语言官方文档：pointers vs values</a> 有一段这样的描述：</p><blockquote><p>When the value is addressable, the language takes care of the common case of invoking a pointer method on a value by inserting the address operator automatically. In our example, the variable b is addressable, so we can call its Write method with just b.Write. The compiler will rewrite that to (&b).Write for us.</p><p>当值是可寻址的时，go 会通过自动插入 address 操作符来处理对值调用指针方法的常见情况。在我们的例子中，变量 b 是可寻址的，所以我们可以用 b.Write 调用它的 Write 方法。编译器将把它重写为（&b）</p></blockquote><p>故以上代码可以理解为：Dog 定义的 <code>SetName</code> 接口方法为 pointer receiver，但是 <code>var a5 Dog = Dog{}</code> 中的 a5 虽然是 value（可寻址的），我们可以通过 <code>&a5</code> 隐式获取 a5 结构体的地址，从而实现 pointer receiver 的调用。这就是为什么 a5、a6 都能调用 <code>SetName</code> 并且编译不会报错</p><p>那为什么类型为接口类型 Animal 的 a4 就不好使了呢？直接无法编译？</p><p>可以根据以上原因推断：接口类型 Animal 的 a4 是不可寻址的，not addressable 的，编译器编译阶段就禁止获取接口类型的地址</p><p>还是在 <a class=link href=https://github.com/golang/go/wiki/MethodSets#interfaces target=_blank rel=noopener>go 语言官方文档：Interfaces</a> 有一段这样的描述的描述，也可以看看文档中的举例：</p><blockquote><p>The concrete value stored in an interface is not addressable, in the same way that a map element is not addressable. Therefore, when you call a method on an interface, it must either have an identical receiver type or it must be directly discernible from the concrete type: pointer- and value-receiver methods can be called with pointers and values respectively, as you would expect. Value-receiver methods can be called with pointer values because they can be dereferenced first. Pointer-receiver methods cannot be called with values, however, because the value stored inside an interface has no address. When assigning a value to an interface, the compiler ensures that all possible interface methods can actually be called on that value, and thus trying to make an improper assignment will fail on compilation.</p></blockquote><p>接口类型和 map 一样是无法寻址的，接口类型是一种抽象，实现接口类型的结构体可能会有很多。（感觉还是跟语言设计有关，Python 这样的脚本语言就是在运行过程中才知道对象有哪些方法，哪些属性）</p><p><strong>Value-receiver methods can be called with pointer values because they can be dereferenced first.</strong></p><p><strong>Pointer-receiver methods cannot be called with values, however, because the value stored inside an interface has no address.</strong></p><p>Cat 实现的 <code>SetName</code> 为 Value receiver，所以调用者为 value 或者是 pointer 都是 ok 的（pointer 会先取值，dereferenced）；</p><p>Dog 实现的 <code>SetName</code> 为 pointer receiver，当调用者为 value 时，由于调用者的类型为 Animal 接口类型（不可寻址的），所以无法通过 value 获取到 pointer，所以编译期就失败。</p><p>小小总结一下，对于接口类型变量调用实现的方法注意下面的情况：</p><div class=table-wrapper><table><thead><tr><th></th><th>value 调用</th><th>pointer 调用</th></tr></thead><tbody><tr><td>value receiver 方法</td><td>编译✅</td><td>编译✅（dereferenced）</td></tr><tr><td>pointer receiver 方法</td><td>编译❌ （not addressable）</td><td>编译✅</td></tr></tbody></table></div><p>最后关于「变量自动取地址」和「指针自动解引用」也算是 golang 提供的为数不多的语法糖吧，不研究一下确实不明白～</p></section><footer class=article-footer><section class=article-tags><a href=/tags/go/>go</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><script src=https://utteranc.es/client.js repo=aladdinding/aladdinding.github.io issue-term=og:title crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>function setUtterancesTheme(b){let a=document.querySelector('.utterances iframe');a&&a.contentWindow.postMessage({type:'set-theme',theme:`github-${b}`},'https://utteranc.es')}addEventListener('message',a=>{if(a.origin!=='https://utteranc.es')return;setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener('onColorSchemeChange',a=>{setUtterancesTheme(a.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2019 -
2022 大猫的博客</section><section class=powerby><a href=https://beian.miit.gov.cn/ rel="noopener noreferrer" target=_blank>鄂ICP备2021016339号-1</a><br>Power by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const a=document.createElement('link');a.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",a.type="text/css",a.rel="stylesheet",document.head.appendChild(a)})()</script></body></html>