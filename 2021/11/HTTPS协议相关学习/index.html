<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>HTTPS协议相关学习 | 阿拉丁的博客</title><meta name=keywords content=","><meta name=description content="Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL. HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层"><meta name=author content><link rel=canonical href=https://aladdinding.cn/2021/11/HTTPS%E5%8D%8F%E8%AE%AE%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/><meta name=google-site-verification content="G-QY1H3LE9QK"><link crossorigin=anonymous href=/assets/css/stylesheet.min.fcb2dfef1f861f508726aa63fad2809727c9d99081a63847ab71ee83ce0d1203.css integrity="sha256-/LLf7x+GH1CHJqpj+tKAlyfJ2ZCBpjhHq3Hug84NEgM=" rel="preload stylesheet" as=style><link rel=icon href=https://img.aladdinding.cn/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aladdinding.cn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://aladdinding.cn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://aladdinding.cn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://aladdinding.cn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.85.0"><script async src="https://www.googletagmanager.com/gtag/js?id=G-QY1H3LE9QK"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QY1H3LE9QK')</script><meta property="og:title" content="HTTPS协议相关学习"><meta property="og:description" content="Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL. HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层"><meta property="og:type" content="article"><meta property="og:url" content="https://aladdinding.cn/2021/11/HTTPS%E5%8D%8F%E8%AE%AE%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-23T00:00:00+00:00"><meta property="og:site_name" content="Aladdin"><meta name=twitter:card content="summary"><meta name=twitter:title content="HTTPS协议相关学习"><meta name=twitter:description content="Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL. HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://aladdinding.cn/posts/"},{"@type":"ListItem","position":2,"name":"HTTPS协议相关学习","item":"https://aladdinding.cn/2021/11/HTTPS%E5%8D%8F%E8%AE%AE%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"HTTPS协议相关学习","name":"HTTPS协议相关学习","description":"Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL. HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层","keywords":["",""],"articleBody":" Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL.\n HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层) 的加密。因此 HTTPS 也常指 HTTP over TLS 或 HTTP over SSL。\nTLS两个阶段  握手（Handshake）阶段，其目的是通信双方约定在数据传输阶段使用的加解密算法及密钥（非堆成加密算法） 数据传输阶段，即发送到网络前加密数据，从网络收到数据后解密数据（为效率考虑，使用对称加密算法）。  客户端发出请求 Client Hello 服务器回应 从Server Hello到Server Hello Done，有些服务端的实现是每条单独发送，有服务端实现是合并到一起发送。Sever Hello和Server Done都是只有头没有内容的数据。\nServer Hello Certificate Server Key Exchange Server Hello Done 客户端回应 Client Key Exchange Change Cipher Spec Encrypted Handshake Message 基于协商生成的密钥，用AES加密验证信息让服务端进行认证；如果对方可以解密，则双方认证无误开始通信\n服务器的最后回应 Change Cipher Spec Encrypted Handshake Message 基于协商生成的密钥，用AES加密验证信息让客户端进行认证；如果对方可以解密，则双方认证无误开始通信\n","wordCount":"508","inLanguage":"zh","datePublished":"2021-11-23T00:00:00Z","dateModified":"2021-11-23T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://aladdinding.cn/2021/11/HTTPS%E5%8D%8F%E8%AE%AE%E7%9B%B8%E5%85%B3%E5%AD%A6%E4%B9%A0/"},"publisher":{"@type":"Organization","name":"阿拉丁的博客","logo":{"@type":"ImageObject","url":"https://img.aladdinding.cn/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://aladdinding.cn/ accesskey=h title="阿拉丁的博客 (Alt + H)">阿拉丁的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://aladdinding.cn/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=https://aladdinding.cn/categories/ title=分类><span>分类</span></a></li><li><a href=https://aladdinding.cn/tags/ title=标签><span>标签</span></a></li><li><a href=https://aladdinding.cn/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://aladdinding.cn/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aladdinding.cn/>主页</a>&nbsp;»&nbsp;<a href=https://aladdinding.cn/posts/>Posts</a></div><h1 class=post-title>HTTPS协议相关学习</h1><div class=post-meta>November 23, 2021&nbsp;·&nbsp;2 分钟</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>目录</div></summary><div class=inner><ul><li><a href=#tls%e4%b8%a4%e4%b8%aa%e9%98%b6%e6%ae%b5 aria-label=TLS两个阶段>TLS两个阶段</a></li><li><a href=#%e5%ae%a2%e6%88%b7%e7%ab%af%e5%8f%91%e5%87%ba%e8%af%b7%e6%b1%82 aria-label=客户端发出请求>客户端发出请求</a><ul><ul><li><a href=#client-hello aria-label="Client Hello">Client Hello</a></li></ul></ul></li><li><a href=#%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%9b%9e%e5%ba%94 aria-label=服务器回应>服务器回应</a><ul><ul><li><a href=#server-hello aria-label="Server Hello">Server Hello</a></li><li><a href=#certificate aria-label=Certificate>Certificate</a></li><li><a href=#server-key-exchange aria-label="Server Key Exchange">Server Key Exchange</a></li><li><a href=#server-hello-done aria-label="Server Hello Done">Server Hello Done</a></li></ul></ul></li><li><a href=#%e5%ae%a2%e6%88%b7%e7%ab%af%e5%9b%9e%e5%ba%94 aria-label=客户端回应>客户端回应</a><ul><ul><li><a href=#client-key-exchange aria-label="Client Key Exchange">Client Key Exchange</a></li><li><a href=#change-cipher-spec aria-label="Change Cipher Spec">Change Cipher Spec</a></li><li><a href=#encrypted-handshake-message aria-label="Encrypted Handshake Message">Encrypted Handshake Message</a></li></ul></ul></li><li><a href=#%e6%9c%8d%e5%8a%a1%e5%99%a8%e7%9a%84%e6%9c%80%e5%90%8e%e5%9b%9e%e5%ba%94 aria-label=服务器的最后回应>服务器的最后回应</a><ul><ul><li><a href=#change-cipher-spec-1 aria-label="Change Cipher Spec">Change Cipher Spec</a></li><li><a href=#encrypted-handshake-message-1 aria-label="Encrypted Handshake Message">Encrypted Handshake Message</a></li></ul></ul></li></ul></div></details></div><div class=post-content><blockquote><p>Hypertext Transfer Protocol Secure (HTTPS) is an extension of the Hypertext Transfer Protocol (HTTP). It is used for secure communication over a computer network, and is widely used on the Internet. In HTTPS, the communication protocol is encrypted using Transport Layer Security (TLS) or, formerly, its predecessor, Secure Sockets Layer (SSL). The protocol is therefore also often referred to as HTTP over TLS, or HTTP over SSL.</p></blockquote><p>HTTPS (Hypertext Transfer Protocol Secure) 是基于 HTTP 的扩展，用于计算机网络的安全通信，已经在互联网得到广泛应用。在 HTTPS 中，原有的 HTTP 协议会得到 TLS (安全传输层协议) 或其前辈 SSL (安全套接层) 的加密。因此 HTTPS 也常指 HTTP over TLS 或 HTTP over SSL。</p><h2 id=tls两个阶段>TLS两个阶段<a hidden class=anchor aria-hidden=true href=#tls两个阶段>#</a></h2><ol><li>握手（Handshake）阶段，其目的是通信双方约定在数据传输阶段使用的加解密算法及密钥（非堆成加密算法）</li><li>数据传输阶段，即发送到网络前加密数据，从网络收到数据后解密数据（为效率考虑，使用对称加密算法）。</li></ol><h2 id=客户端发出请求>客户端发出请求<a hidden class=anchor aria-hidden=true href=#客户端发出请求>#</a></h2><h4 id=client-hello>Client Hello<a hidden class=anchor aria-hidden=true href=#client-hello>#</a></h4><p><img loading=lazy src=https://img.aladdinding.cn/20211123173731.png alt=image-20211123173729470></p><h2 id=服务器回应>服务器回应<a hidden class=anchor aria-hidden=true href=#服务器回应>#</a></h2><p>从Server Hello到Server Hello Done，有些服务端的实现是每条单独发送，有服务端实现是合并到一起发送。Sever Hello和Server Done都是只有头没有内容的数据。</p><h4 id=server-hello>Server Hello<a hidden class=anchor aria-hidden=true href=#server-hello>#</a></h4><p><img loading=lazy src=https://img.aladdinding.cn/20211123175422.png alt=image-20211123175420329></p><h4 id=certificate>Certificate<a hidden class=anchor aria-hidden=true href=#certificate>#</a></h4><p><img loading=lazy src=https://img.aladdinding.cn/20211123175545.png alt=image-20211123175544807></p><h4 id=server-key-exchange>Server Key Exchange<a hidden class=anchor aria-hidden=true href=#server-key-exchange>#</a></h4><p><img loading=lazy src=https://img.aladdinding.cn/20211123175625.png alt=image-20211123175624007></p><h4 id=server-hello-done>Server Hello Done<a hidden class=anchor aria-hidden=true href=#server-hello-done>#</a></h4><p><img loading=lazy src=https://img.aladdinding.cn/20211123175639.png alt=image-20211123175638530></p><h2 id=客户端回应>客户端回应<a hidden class=anchor aria-hidden=true href=#客户端回应>#</a></h2><h4 id=client-key-exchange>Client Key Exchange<a hidden class=anchor aria-hidden=true href=#client-key-exchange>#</a></h4><h4 id=change-cipher-spec>Change Cipher Spec<a hidden class=anchor aria-hidden=true href=#change-cipher-spec>#</a></h4><h4 id=encrypted-handshake-message>Encrypted Handshake Message<a hidden class=anchor aria-hidden=true href=#encrypted-handshake-message>#</a></h4><p>基于协商生成的密钥，用AES加密验证信息让服务端进行认证；如果对方可以解密，则双方认证无误开始通信</p><h2 id=服务器的最后回应>服务器的最后回应<a hidden class=anchor aria-hidden=true href=#服务器的最后回应>#</a></h2><h4 id=change-cipher-spec-1>Change Cipher Spec<a hidden class=anchor aria-hidden=true href=#change-cipher-spec-1>#</a></h4><h4 id=encrypted-handshake-message-1>Encrypted Handshake Message<a hidden class=anchor aria-hidden=true href=#encrypted-handshake-message-1>#</a></h4><p>基于协商生成的密钥，用AES加密验证信息让客户端进行认证；如果对方可以解密，则双方认证无误开始通信</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://aladdinding.cn/2021/11/Redis%E6%BA%90%E7%A0%81%E4%B9%8B%E7%AE%80%E5%8D%95%E5%8A%A8%E6%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2/><span class=title>下一页 »</span><br><span>Redis 源码之简单动态字符串</span></a></nav></footer><div class="post bg-white"><script src=https://utteranc.es/client.js repo=aladdinding/aladdinding.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2021 <a href=https://aladdinding.cn/>阿拉丁的博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
<span><a href=https://beian.miit.gov.cn/ rel="noopener noreferrer" target=_blank>鄂ICP备2021016339号-1</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script><script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='复制';function d(){a.innerText='已复制！',setTimeout(()=>{a.innerText='复制'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script></body></html>